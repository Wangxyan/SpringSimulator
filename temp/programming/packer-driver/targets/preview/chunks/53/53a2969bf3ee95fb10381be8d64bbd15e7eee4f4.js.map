{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Game/Mgr/HeroManager.ts"],"names":["_decorator","Component","instantiate","Node","ResourcesUtil","HeroItem","HeroData","Constants","ccclass","property","HeroManager","init","instance","creatHero","path","heroPath","getPrefab","then","itemPrefab","heroItem","pos","heroPoint","parent","heroParent","setPosition","getComponent","active","showHideHero","status","children","clear"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;;AACpCC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;;;OAGH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;6BAGjBU,W,WADZF,OAAO,CAAC,aAAD,C,UAEHC,QAAQ,CAACN,IAAD,C,2BAFb,MACaO,WADb,SACiCT,SADjC,CAC2C;AAAA;AAAA;;AAAA;AAAA;;AAGvCU,QAAAA,IAAI,GAAG;AACH;AAAA;AAAA,oCAASC,QAAT,CAAkBD,IAAlB;AACA,eAAKE,SAAL;AACH;;AAEDA,QAAAA,SAAS,GAAG;AACR,cAAIC,IAAI,GAAG;AAAA;AAAA,sCAAUC,QAArB;AACA;AAAA;AAAA,8CAAcC,SAAd,CAAwBF,IAAxB,EAA8BG,IAA9B,CAAoCC,UAAD,IAAwB;AACvD,gBAAIC,QAAQ,GAAGjB,WAAW,CAACgB,UAAD,CAA1B;AACA,gBAAIE,GAAG,GAAG;AAAA;AAAA,sCAASR,QAAT,CAAkBS,SAA5B;AACAF,YAAAA,QAAQ,CAACG,MAAT,GAAkB,KAAKC,UAAvB;AACAJ,YAAAA,QAAQ,CAACK,WAAT,CAAqBJ,GAArB;AACAD,YAAAA,QAAQ,CAACM,YAAT;AAAA;AAAA,sCAAgCd,IAAhC;AACAQ,YAAAA,QAAQ,CAACO,MAAT,GAAkB,KAAlB;AACH,WAPD;AAQH;;AAEDC,QAAAA,YAAY,CAACC,MAAD,EAAkB;AAC1B,eAAKL,UAAL,CAAgBM,QAAhB,CAAyB,CAAzB,EAA4BH,MAA5B,GAAqCE,MAArC;AACH;;AAEDE,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,oCAASlB,QAAT,CAAkBkB,KAAlB;AACH;;AA1BsC,O;;;;;iBAEpB,I","sourcesContent":["import { _decorator, Component, instantiate, Node, Prefab } from 'cc';\r\nimport { ResourcesUtil } from '../../Frame/ResourcesUtil';\r\nimport { HeroItem } from '../Hero/HeroItem';\r\nimport { HeroData } from '../Data/HeroData';\r\nimport { Constants } from '../../Constants';\r\nimport { EventListener } from '../../Frame/EventListener';\r\nimport { GameEvent } from '../Event/GameEvent';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('HeroManager')\r\nexport class HeroManager extends Component {\r\n    @property(Node)\r\n    heroParent: Node = null;\r\n    init() {\r\n        HeroData.instance.init();\r\n        this.creatHero();\r\n    }\r\n\r\n    creatHero() {\r\n        let path = Constants.heroPath;\r\n        ResourcesUtil.getPrefab(path).then((itemPrefab: Prefab) => {\r\n            let heroItem = instantiate(itemPrefab);\r\n            let pos = HeroData.instance.heroPoint;\r\n            heroItem.parent = this.heroParent;\r\n            heroItem.setPosition(pos);\r\n            heroItem.getComponent(HeroItem).init();\r\n            heroItem.active = false;\r\n        })\r\n    }\r\n\r\n    showHideHero(status: boolean) {\r\n        this.heroParent.children[0].active = status;\r\n    }\r\n\r\n    clear() {\r\n        HeroData.instance.clear();\r\n    }\r\n}\r\n\r\n\r\n"]}