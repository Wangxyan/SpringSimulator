{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Game/Battle/BlastItem.ts"],"names":["_decorator","Component","sp","PoolManager","ccclass","property","BlastItem","Skeleton","init","spine","setAnimation","setCompleteListener","listener","animation","name","instance","putNode","node"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAA2CC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,E,OAAAA,E;;AAC5DC,MAAAA,W,iBAAAA,W;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;2BAGjBM,S,WADZF,OAAO,CAAC,WAAD,C,UAEHC,QAAQ,CAACH,EAAE,CAACK,QAAJ,C,2BAFb,MACaD,SADb,SAC+BL,SAD/B,CACyC;AAAA;AAAA;;AAAA;AAAA;;AAGrCO,QAAAA,IAAI,GAAS;AACT,eAAKC,KAAL,CAAWC,YAAX,CAAwB,CAAxB,EAA2B,WAA3B,EAAwC,KAAxC;AACA,eAAKD,KAAL,CAAWE,mBAAX,CAAgCC,QAAD,IAAc;AACzC,gBAAIA,QAAQ,CAACC,SAAT,CAAmBC,IAAnB,IAA2B,WAA/B,EAA4C;AACxC;AACA;AAAA;AAAA,8CAAYC,QAAZ,CAAqBC,OAArB,CAA6B,KAAKC,IAAlC;AACH;AACJ,WALD,EAFS,CAST;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAnBoC,O;;;;;iBAEhB,I","sourcesContent":["import { _decorator, Animation, AnimationComponent, Component, Node, sp } from 'cc';\r\nimport { PoolManager } from '../../Frame/PoolManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('BlastItem')\r\nexport class BlastItem extends Component {\r\n    @property(sp.Skeleton)\r\n    spine: sp.Skeleton = null;\r\n    init(): void {\r\n        this.spine.setAnimation(0, 'animation', false);\r\n        this.spine.setCompleteListener((listener) => {\r\n            if (listener.animation.name == 'animation') {\r\n                //动画播放完\r\n                PoolManager.instance.putNode(this.node);\r\n            }\r\n        })\r\n\r\n        // let anim = this.node.getComponent(AnimationComponent);\r\n        // this.scheduleOnce(() => {\r\n        //     anim.play('blast');\r\n        //     anim.on(Animation.EventType.FINISHED, () => {\r\n        //         PoolManager.instance.putNode(this.node);\r\n        //     }, this)\r\n        // }, 0.1)\r\n    }\r\n}\r\n\r\n\r\n"]}