{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Popup/Skill/Sub/SkillSelectItem.ts"],"names":["_decorator","Component","Sprite","RichText","Constants","ResourcesUtil","SpriteEx","SkillData","SkillUpgradeData","ccclass","property","SkillSelectItem","_callBack","_skillUpgradeCfg","_selectObj","init","selectObj","callback","skillUpgradeCfg","instance","getSkillUpgradeCfgById","id","frame","index","quality","desc","string","qualityPath","skillSelectIconPath","icon","geSpriteFrame","then","data","spriteFrame","setUpgradeSkill","type","upgradeSkillObjAtt","onTouchBtn","options_num"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,Q,OAAAA,Q;;AACrCC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,S,iBAAAA,S;;AACWC,MAAAA,gB,iBAAAA,gB;;;;;;;;;OAEd;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;iCAGjBW,e,WADZF,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ;AAAA;AAAA,+B,UAERA,QAAQ;AAAA;AAAA,+B,UAERA,QAAQ,CAACR,MAAD,C,UAERQ,QAAQ,CAACP,QAAD,C,2BARb,MACaQ,eADb,SACqCV,SADrC,CAC+C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAWnCW,SAXmC,GAWb,IAXa;AAAA,eAYnCC,gBAZmC,GAYC,IAZD;AAAA,eAanCC,UAbmC,GAaX,IAbW;AAAA;;AAe3CC,QAAAA,IAAI,CAACC,SAAD,EAAuBC,QAAvB,EAA2C;AAC3C,cAAIC,eAAe,GAAG;AAAA;AAAA,oDAAiBC,QAAjB,CAA0BC,sBAA1B,CAAiDJ,SAAS,CAACK,EAA3D,CAAtB;AACA,eAAKP,UAAL,GAAkBE,SAAlB;AACA,eAAKJ,SAAL,GAAiBK,QAAjB;AACA,eAAKJ,gBAAL,GAAwBK,eAAxB;AACA,eAAKI,KAAL,CAAWC,KAAX,GAAmBL,eAAe,CAACM,OAAnC;AACA,eAAKA,OAAL,CAAaD,KAAb,GAAqBL,eAAe,CAACM,OAArC;AACA,eAAKC,IAAL,CAAUC,MAAV,GAAmBR,eAAe,CAACO,IAAnC;AACA,cAAIE,WAAW,GAAG;AAAA;AAAA,sCAAUC,mBAAV,GAAgCV,eAAe,CAACW,IAAhD,GAAuD,cAAzE;AACA;AAAA;AAAA,8CAAcC,aAAd,CAA4BH,WAA5B,EAAyCI,IAAzC,CAA+CC,IAAD,IAAuB;AACjE,iBAAKH,IAAL,CAAUI,WAAV,GAAwBD,IAAxB;AACH,WAFD;AAGH;;AAEDE,QAAAA,eAAe,GAAG;AACd,cAAIC,IAAI,GAAG,KAAKtB,gBAAL,CAAsBsB,IAAjC;;AACA,kBAAQA,IAAR;AACI,iBAAK,CAAL;AACI;AAAA;AAAA,0CAAUhB,QAAV,CAAmBiB,kBAAnB,CAAsC,KAAKvB,gBAA3C;AACA;;AACJ,iBAAK,CAAL;AACI;AACA;;AACJ,iBAAK,CAAL;AACI;AACA;;AACJ,iBAAK,CAAL;AACI;AACA;;AACJ,iBAAK,CAAL;AACI;AACA;AAfR;AAkBH;;AAEDwB,QAAAA,UAAU,GAAG;AACT,eAAKzB,SAAL,IAAkB,KAAKA,SAAL,EAAlB;AACA,eAAKE,UAAL,CAAgBwB,WAAhB;AACA,eAAKJ,eAAL;AACH;;AAvD0C,O;;;;;iBAEzB,I;;;;;;;iBAEE,I;;;;;;;iBAEL,I;;;;;;;iBAEE,I","sourcesContent":["import { _decorator, Component, Node, Sprite, RichText, SpriteFrame } from 'cc';\r\nimport { Constants } from '../../../Constants';\r\nimport { ResourcesUtil } from '../../../Frame/ResourcesUtil';\r\nimport { SpriteEx } from '../../../Frame/SpriteEx';\r\nimport { SkillData } from '../../../Game/Data/SkillData';\r\nimport { SelectObj, SkillUpgradeData } from '../../../Game/Data/SkillUpgradeData';\r\nimport { SkillUpgradeCfg } from '../../../Model/SkillUpgradeMode';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('SkillSelectItem')\r\nexport class SkillSelectItem extends Component {\r\n    @property(SpriteEx)\r\n    frame: SpriteEx = null;\r\n    @property(SpriteEx)\r\n    quality: SpriteEx = null;\r\n    @property(Sprite)\r\n    icon: Sprite = null;\r\n    @property(RichText)\r\n    desc: RichText = null;\r\n\r\n\r\n    private _callBack: Function = null;\r\n    private _skillUpgradeCfg: SkillUpgradeCfg = null;\r\n    private _selectObj: SelectObj = null;\r\n\r\n    init(selectObj: SelectObj, callback: Function) {\r\n        let skillUpgradeCfg = SkillUpgradeData.instance.getSkillUpgradeCfgById(selectObj.id);\r\n        this._selectObj = selectObj;\r\n        this._callBack = callback;\r\n        this._skillUpgradeCfg = skillUpgradeCfg;\r\n        this.frame.index = skillUpgradeCfg.quality;\r\n        this.quality.index = skillUpgradeCfg.quality;\r\n        this.desc.string = skillUpgradeCfg.desc;\r\n        let qualityPath = Constants.skillSelectIconPath + skillUpgradeCfg.icon + '/spriteFrame';\r\n        ResourcesUtil.geSpriteFrame(qualityPath).then((data: SpriteFrame) => {\r\n            this.icon.spriteFrame = data;\r\n        })\r\n    }\r\n\r\n    setUpgradeSkill() {\r\n        let type = this._skillUpgradeCfg.type;\r\n        switch (type) {\r\n            case 0:\r\n                SkillData.instance.upgradeSkillObjAtt(this._skillUpgradeCfg);\r\n                break;\r\n            case 1:\r\n                //银币\r\n                break;\r\n            case 2:\r\n                //敌人移动速度\r\n                break;\r\n            case 3:\r\n                //经验\r\n                break;\r\n            case 4:\r\n                //生命\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n    onTouchBtn() {\r\n        this._callBack && this._callBack();\r\n        this._selectObj.options_num--;\r\n        this.setUpgradeSkill();\r\n    }\r\n}\r\n\r\n\r\n"]}