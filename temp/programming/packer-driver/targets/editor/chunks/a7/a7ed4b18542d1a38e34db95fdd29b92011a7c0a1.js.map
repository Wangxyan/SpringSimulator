{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Frame/BackgroundAdapter.ts"],"names":["_decorator","Component","UITransform","screen","ccclass","property","BackgroundAdapter","onLoad","size","windowSize","nodeSize","node","getComponent","contentSize","srcScaleForShowAll","Math","min","width","height","realWidth","realHeight","s","max","setScale"],"mappings":";;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;;;;;;;;;OACvC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;mCAEjBM,iB,WADZF,OAAO,CAAC,mBAAD,C,gBAAR,MACaE,iBADb,SACuCL,SADvC,CACiD;AAC7CM,QAAAA,MAAM,GAAG;AACL,cAAIC,IAAI,GAAGL,MAAM,CAACM,UAAlB;AACA,cAAIC,QAAQ,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBV,WAAvB,EAAoCW,WAAnD;AACA,cAAIC,kBAAkB,GAAGC,IAAI,CAACC,GAAL,CAASR,IAAI,CAACS,KAAL,GAAaP,QAAQ,CAACO,KAA/B,EAAsCT,IAAI,CAACU,MAAL,GAAcR,QAAQ,CAACQ,MAA7D,CAAzB;AACA,cAAIC,SAAS,GAAGT,QAAQ,CAACO,KAAT,GAAiBH,kBAAjC;AACA,cAAIM,UAAU,GAAGV,QAAQ,CAACQ,MAAT,GAAkBJ,kBAAnC;AAEA,cAAIO,CAAC,GAAGN,IAAI,CAACO,GAAL,CAASd,IAAI,CAACS,KAAL,GAAaE,SAAtB,EAAiCX,IAAI,CAACU,MAAL,GAAcE,UAA/C,CAAR;AACA,eAAKT,IAAL,CAAUY,QAAV,CAAmBF,CAAnB,EAAsBA,CAAtB,EAAyBA,CAAzB;AACH;;AAV4C,O","sourcesContent":["\r\nimport { _decorator, Component, UITransform, screen, view, Size } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('BackgroundAdapter')\r\nexport class BackgroundAdapter extends Component {\r\n    onLoad() {\r\n        let size = screen.windowSize;\r\n        let nodeSize = this.node.getComponent(UITransform).contentSize;\r\n        let srcScaleForShowAll = Math.min(size.width / nodeSize.width, size.height / nodeSize.height);\r\n        let realWidth = nodeSize.width * srcScaleForShowAll;\r\n        let realHeight = nodeSize.height * srcScaleForShowAll;\r\n\r\n        let s = Math.max(size.width / realWidth, size.height / realHeight);\r\n        this.node.setScale(s, s, s);\r\n    }\r\n}\r\n"]}