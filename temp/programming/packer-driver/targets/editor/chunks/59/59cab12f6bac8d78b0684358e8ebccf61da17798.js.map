{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Frame/ContentAdapter.ts"],"names":["_decorator","Component","Size","UITransform","screen","ccclass","property","ContentAdapter","onLoad","size","windowSize","nodeSize","node","getComponent","contentSize","srcScaleForShowAll","Math","min","width","height","realWidth","realHeight","realSize","setContentSize"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;;;;;;;;;OAC7C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;gCAGjBO,c,WADZF,OAAO,CAAC,gBAAD,C,gBAAR,MACaE,cADb,SACoCN,SADpC,CAC8C;AAE1CO,QAAAA,MAAM,GAAG;AACL,cAAIC,IAAI,GAAGL,MAAM,CAACM,UAAlB;AACA,cAAIC,QAAQ,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBV,WAAvB,EAAoCW,WAAnD;AACA,cAAIC,kBAAkB,GAAGC,IAAI,CAACC,GAAL,CAASR,IAAI,CAACS,KAAL,GAAaP,QAAQ,CAACO,KAA/B,EAAsCT,IAAI,CAACU,MAAL,GAAcR,QAAQ,CAACQ,MAA7D,CAAzB;AACA,cAAIC,SAAS,GAAGT,QAAQ,CAACO,KAAT,GAAiBH,kBAAjC;AACA,cAAIM,UAAU,GAAGV,QAAQ,CAACQ,MAAT,GAAkBJ,kBAAnC;AAEA,cAAIO,QAAQ,GAAG,IAAIpB,IAAJ,EAAf;AACAoB,UAAAA,QAAQ,CAACJ,KAAT,GAAiBP,QAAQ,CAACO,KAAT,IAAkBT,IAAI,CAACS,KAAL,GAAaE,SAA/B,CAAjB;AACAE,UAAAA,QAAQ,CAACH,MAAT,GAAkBR,QAAQ,CAACQ,MAAT,IAAmBV,IAAI,CAACU,MAAL,GAAcE,UAAjC,CAAlB;AACA,eAAKT,IAAL,CAAUC,YAAV,CAAuBV,WAAvB,EAAoCoB,cAApC,CAAmDD,QAAnD;AACH;;AAbyC,O","sourcesContent":["import { _decorator, Component, Size, UITransform, screen, view } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ContentAdapter')\r\nexport class ContentAdapter extends Component {\r\n\r\n    onLoad() {\r\n        let size = screen.windowSize;\r\n        let nodeSize = this.node.getComponent(UITransform).contentSize;\r\n        let srcScaleForShowAll = Math.min(size.width / nodeSize.width, size.height / nodeSize.height);\r\n        let realWidth = nodeSize.width * srcScaleForShowAll;\r\n        let realHeight = nodeSize.height * srcScaleForShowAll;\r\n\r\n        let realSize = new Size();\r\n        realSize.width = nodeSize.width * (size.width / realWidth);\r\n        realSize.height = nodeSize.height * (size.height / realHeight);\r\n        this.node.getComponent(UITransform).setContentSize(realSize);\r\n    }\r\n}\r\n"]}