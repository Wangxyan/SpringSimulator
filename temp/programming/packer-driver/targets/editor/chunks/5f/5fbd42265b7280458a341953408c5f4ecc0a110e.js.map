{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Game/Grid/GridBgItem.ts"],"names":["_decorator","Color","Component","Node","Sprite","UIOpacity","UITransform","GridData","GridObj","ccclass","property","GridBgItem","_gridObj","_gridValue","_placeAreaKey","placeAreaKey","value","gridObj","gridValue","init","row","col","node","getComponent","setContentSize","instance","gridWidth","gridHeight","tipsNode","opacity","setTipsGreen","color","GREEN","setTipsDefault","fromHEX","delPlaceAreaKey","key"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;;AACvDC,MAAAA,Q,iBAAAA,Q;AAAUC,MAAAA,O,iBAAAA,O;;;;;;;;;OACb;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;4BAGjBW,U,WADZF,OAAO,CAAC,YAAD,C,UAEHC,QAAQ,CAACP,IAAD,C,2BAFb,MACaQ,UADb,SACgCT,SADhC,CAC0C;AAAA;AAAA;;AAAA;;AAAA,eAG9BU,QAH8B,GAGV;AAAA;AAAA,mCAHU;AAAA,eAI9BC,UAJ8B,GAIT,GAJS;AAIJ;AAJI,eAM9BC,aAN8B,GAMN,EANM;AAAA;;AAMH;AAGnB,YAAZC,YAAY,GAAG;AACf,iBAAO,KAAKD,aAAZ;AACH;;AAEe,YAAZC,YAAY,CAACC,KAAD,EAAgB;AAC5B,eAAKF,aAAL,GAAqBE,KAArB;AACH;;AAEU,YAAPC,OAAO,GAAG;AACV,iBAAO,KAAKL,QAAZ;AACH;;AAEY,YAATM,SAAS,GAAG;AACZ,iBAAO,KAAKL,UAAZ;AACH;;AACY,YAATK,SAAS,CAACF,KAAD,EAAgB;AACzB,eAAKH,UAAL,GAAkBG,KAAlB;AACH;;AAEDG,QAAAA,IAAI,CAACC,GAAD,EAAcC,GAAd,EAA2BL,KAA3B,EAA0C;AAC1C,eAAKM,IAAL,CAAUC,YAAV,CAAuBjB,WAAvB,EAAoCkB,cAApC,CAAmD;AAAA;AAAA,oCAASC,QAAT,CAAkBC,SAArE,EAAgF;AAAA;AAAA,oCAASD,QAAT,CAAkBE,UAAlG;AACA,eAAKC,QAAL,CAAcL,YAAd,CAA2BjB,WAA3B,EAAwCkB,cAAxC,CAAuD;AAAA;AAAA,oCAASC,QAAT,CAAkBC,SAAzE,EAAoF;AAAA;AAAA,oCAASD,QAAT,CAAkBE,UAAtG;AACA,eAAKf,QAAL,CAAcQ,GAAd,GAAoBA,GAApB;AACA,eAAKR,QAAL,CAAcS,GAAd,GAAoBA,GAApB;AACA,eAAKR,UAAL,GAAkBG,KAAlB;AACA,eAAKM,IAAL,CAAUC,YAAV,CAAuBlB,SAAvB,EAAkCwB,OAAlC,GAA4Cb,KAAK,GAAG,GAAH,GAAS,CAA1D;AACH;;AAEDc,QAAAA,YAAY,GAAG;AACX,eAAKF,QAAL,CAAcL,YAAd,CAA2BnB,MAA3B,EAAmC2B,KAAnC,GAA2C9B,KAAK,CAAC+B,KAAjD;AACH;;AAEDC,QAAAA,cAAc,GAAG;AACb,eAAKL,QAAL,CAAcL,YAAd,CAA2BnB,MAA3B,EAAmC2B,KAAnC,GAA2C,IAAI9B,KAAJ,GAAYiC,OAAZ,CAAoB,QAApB,CAA3C;AACH;;AAEDC,QAAAA,eAAe,CAACC,GAAD,EAAc;AACzB,cAAI,KAAKtB,aAAL,IAAsBsB,GAA1B,EAA+B;AAC3B,iBAAKtB,aAAL,GAAqB,EAArB;;AACA,gBAAI,KAAKD,UAAT,EAAqB;AACjB,mBAAKA,UAAL,GAAkB,GAAlB;AACH;AACJ;AACJ;;AApDqC,O;;;;;iBAErB,I","sourcesContent":["import { _decorator, Color, Component, Node, Sprite, UIOpacity, UITransform } from 'cc';\r\nimport { GridData, GridObj } from '../Data/GridData';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GridBgItem')\r\nexport class GridBgItem extends Component {\r\n    @property(Node)\r\n    tipsNode: Node = null;\r\n    private _gridObj: GridObj = new GridObj();\r\n    private _gridValue: string = '0'; // 0:格子中没有武器   'fdagfdag':格子中填充了武器   ''：确定后不占格子\r\n\r\n    private _placeAreaKey: string = '';//放置格子的区域key  空则没有放置格子\r\n\r\n\r\n    get placeAreaKey() {\r\n        return this._placeAreaKey;\r\n    }\r\n\r\n    set placeAreaKey(value: string) {\r\n        this._placeAreaKey = value;\r\n    }\r\n\r\n    get gridObj() {\r\n        return this._gridObj;\r\n    }\r\n\r\n    get gridValue() {\r\n        return this._gridValue;\r\n    }\r\n    set gridValue(value: string) {\r\n        this._gridValue = value;\r\n    }\r\n\r\n    init(row: number, col: number, value: string) {\r\n        this.node.getComponent(UITransform).setContentSize(GridData.instance.gridWidth, GridData.instance.gridHeight);\r\n        this.tipsNode.getComponent(UITransform).setContentSize(GridData.instance.gridWidth, GridData.instance.gridHeight);\r\n        this._gridObj.row = row;\r\n        this._gridObj.col = col;\r\n        this._gridValue = value;\r\n        this.node.getComponent(UIOpacity).opacity = value ? 255 : 0;\r\n    }\r\n\r\n    setTipsGreen() {\r\n        this.tipsNode.getComponent(Sprite).color = Color.GREEN;\r\n    }\r\n\r\n    setTipsDefault() {\r\n        this.tipsNode.getComponent(Sprite).color = new Color().fromHEX('ffffff');\r\n    }\r\n\r\n    delPlaceAreaKey(key: string) {\r\n        if (this._placeAreaKey == key) {\r\n            this._placeAreaKey = '';\r\n            if (this._gridValue) {\r\n                this._gridValue = '0'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}