{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Game/Data/HeroData.ts"],"names":["HeroData","Vec2","Vec3","_heroPoint","_heroR","_rangeW","_rangeH","_heroKey","_ReleaseSkillQueue","_curHp","_maxHp","heroPoint","heroKey","heroR","maxHp","curHp","value","init","checkInHeroRange","pos","com","dis","distance","x","y","vector","dir","subtract","clone","normalize","addQueueSkill","releaseSkillObj","push","getQueueSkill","shift","clear","instance","_instance","HeroAnim"],"mappings":";;;2FAGaA,Q;;;;;;;;;;;;;;;;;;;AAHEC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;;;0BAGRF,Q,GAAN,MAAMA,QAAN,CAAe;AAAA;AAAA,eACVG,UADU,GACS,IAAID,IAAJ,CAAS,CAAT,EAAY,CAAC,GAAb,EAAkB,CAAlB,CADT;AAAA,eAEVE,MAFU,GAEO,GAFP;AAEW;AAFX,eAGVC,OAHU,GAGA,GAHA;AAAA,eAIVC,OAJU,GAIA,GAJA;AAAA,eAKVC,QALU,GAKC,MALD;AAAA,eAMVC,kBANU,GAMmC,EANnC;AAAA,eAOVC,MAPU,GAOO,CAPP;AAAA,eAQVC,MARU,GAQO,GARP;AAAA;;AAWL,YAATC,SAAS,GAAG;AACZ,iBAAO,KAAKR,UAAZ;AACH;;AAEU,YAAPS,OAAO,GAAG;AACV,iBAAO,KAAKL,QAAZ;AACH;;AAEQ,YAALM,KAAK,GAAG;AACR,iBAAO,KAAKT,MAAZ;AACH;;AAEQ,YAALU,KAAK,GAAG;AACR,iBAAO,KAAKJ,MAAZ;AACH;;AAGQ,YAALK,KAAK,GAAG;AACR,iBAAO,KAAKN,MAAZ;AACH;;AAEQ,YAALM,KAAK,CAACC,KAAD,EAAgB;AACrB,eAAKP,MAAL,IAAeO,KAAf;;AACA,cAAI,KAAKP,MAAL,IAAe,CAAnB,EAAsB;AAClB,iBAAKA,MAAL,GAAc,CAAd;AACH;AACJ;;AAEDQ,QAAAA,IAAI,GAAG;AACH,eAAKR,MAAL,GAAc,GAAd;AACA,eAAKC,MAAL,GAAc,GAAd;AACH;AAED;;;AACAQ,QAAAA,gBAAgB,CAACC,GAAD,EAAYC,GAAZ,EAA8B;AAC1C,cAAIC,GAAG,GAAGpB,IAAI,CAACqB,QAAL,CAAcH,GAAd,EAAmB,IAAIlB,IAAJ,CAAS,KAAKE,UAAL,CAAgBoB,CAAzB,EAA4B,KAAKpB,UAAL,CAAgBqB,CAA5C,CAAnB,CAAV;;AACA,cAAIH,GAAG,GAAG,GAAV,EAAe;AACX,mBAAO,KAAP;AACH,WAFD,MAGK,IAAKF,GAAG,CAACK,CAAJ,GAAQ,KAAKb,SAAL,CAAea,CAAxB,GAA6B,GAAjC,EAAsC;AACvC,gBAAIC,MAAM,GAAG,IAAIvB,IAAJ,EAAb;AACA,gBAAIwB,GAAG,GAAGxB,IAAI,CAACyB,QAAL,CAAcF,MAAd,EAAsB,KAAKtB,UAAL,CAAgByB,KAAhB,EAAtB,EAA+C,IAAI1B,IAAJ,CAASiB,GAAG,CAACI,CAAb,EAAgBJ,GAAG,CAACK,CAApB,EAAuB,CAAvB,CAA/C,CAAV;AACAJ,YAAAA,GAAG,CAACM,GAAJ,GAAUA,GAAG,CAACG,SAAJ,EAAV;AACH;;AACD,iBAAO,IAAP;AACH;AAED;;;AACAC,QAAAA,aAAa,CAACC,eAAD,EAAmC;AAC5C,eAAKvB,kBAAL,CAAwBwB,IAAxB,CAA6BD,eAA7B;AACH;AAED;;;AACAE,QAAAA,aAAa,GAAG;AACZ,iBAAO,KAAKzB,kBAAL,CAAwB0B,KAAxB,EAAP;AACH;;AAEDC,QAAAA,KAAK,GAAG;AACJ,eAAK3B,kBAAL,GAA0B,EAA1B;AACH;;AAGyB,mBAAR4B,QAAQ,GAAa;AACnC,cAAI,CAAC,KAAKC,SAAV,EAAqB;AACjB,iBAAKA,SAAL,GAAiB,IAAIrC,QAAJ,EAAjB;AACH;;AACD,iBAAO,KAAKqC,SAAZ;AACH;;AA9EiB,O;;AAATrC,MAAAA,Q,CAwEMqC,S,GAAsB,I;;0BAS7BC,Q,0BAAAA,Q;AAAAA,QAAAA,Q;AAAAA,QAAAA,Q;AAAAA,QAAAA,Q;eAAAA,Q","sourcesContent":["import { Rect, Vec2, Vec3 } from \"cc\";\r\nimport { MonsterBase } from \"../Monster/MonsterBase\";\r\nimport { ReleaseSkillObj, SkillBulletObj } from \"./SkillData\";\r\nexport class HeroData {\r\n    private _heroPoint: Vec3 = new Vec3(0, -620, 0);\r\n    private _heroR: number = 450;//检测范围\r\n    private _rangeW = 200;\r\n    private _rangeH = 500;\r\n    private _heroKey = '1001';\r\n    private _ReleaseSkillQueue: Array<ReleaseSkillObj> = [];\r\n    private _curHp: number = 0;\r\n    private _maxHp: number = 300;\r\n\r\n\r\n    get heroPoint() {\r\n        return this._heroPoint;\r\n    }\r\n\r\n    get heroKey() {\r\n        return this._heroKey;\r\n    }\r\n\r\n    get heroR() {\r\n        return this._heroR;\r\n    }\r\n\r\n    get maxHp() {\r\n        return this._maxHp;\r\n    }\r\n\r\n\r\n    get curHp() {\r\n        return this._curHp;\r\n    }\r\n\r\n    set curHp(value: number) {\r\n        this._curHp -= value;\r\n        if (this._curHp <= 0) {\r\n            this._curHp = 0;\r\n        }\r\n    }\r\n\r\n    init() {\r\n        this._curHp = 500;\r\n        this._maxHp = 500;\r\n    }\r\n\r\n    /* 检测位置是否在英雄范围内 */\r\n    checkInHeroRange(pos: Vec2, com: MonsterBase) {\r\n        let dis = Vec2.distance(pos, new Vec2(this._heroPoint.x, this._heroPoint.y));\r\n        if (dis < 100) {\r\n            return false\r\n        }\r\n        else if ((pos.y - this.heroPoint.y) < 300) {\r\n            let vector = new Vec3();\r\n            let dir = Vec3.subtract(vector, this._heroPoint.clone(), new Vec3(pos.x, pos.y, 0));\r\n            com.dir = dir.normalize();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /* 添加队列技能 */\r\n    addQueueSkill(releaseSkillObj: ReleaseSkillObj) {\r\n        this._ReleaseSkillQueue.push(releaseSkillObj);\r\n    }\r\n\r\n    /* 获得队列技能 */\r\n    getQueueSkill() {\r\n        return this._ReleaseSkillQueue.shift();\r\n    }\r\n\r\n    clear() {\r\n        this._ReleaseSkillQueue = [];\r\n    }\r\n\r\n    private static _instance: HeroData = null;\r\n    public static get instance(): HeroData {\r\n        if (!this._instance) {\r\n            this._instance = new HeroData();\r\n        }\r\n        return this._instance;\r\n    }\r\n}\r\n\r\nexport enum HeroAnim {\r\n    IDLE = 'Idle',\r\n    ATK = 'Skill',\r\n    DIE = 'die',\r\n}\r\n\r\n\r\n"]}