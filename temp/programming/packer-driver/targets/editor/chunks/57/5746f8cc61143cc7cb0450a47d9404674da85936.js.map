{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Popup/Weapon/WeaponDetailPopup.ts"],"names":["_decorator","Component","Sprite","Label","Constants","PopupManager","ResourcesUtil","SkillData","GameDefine","ccclass","property","WeaponDetailPopup","show","weaponCfg","gameTouch","setWeaponInfo","skillId","SkillId","skillCfg","instance","getSkillCfgById","path","weaponIconPath","Res","iconName","string","Name","level","Level","description","Description","geSpriteFrame","then","data","icon","spriteFrame","onCloseBtn","hide","PopupUI"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,K,OAAAA,K;;AACrCC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U;;mCAGjBW,iB,WADZF,OAAO,CAAC,mBAAD,C,UAEHC,QAAQ,CAACR,MAAD,C,UAERQ,QAAQ,CAACP,KAAD,C,UAERO,QAAQ,CAACP,KAAD,C,UAERO,QAAQ,CAACP,KAAD,C,2BARb,MACaQ,iBADb,SACuCV,SADvC,CACiD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAQjB;AAC5BW,QAAAA,IAAI,CAACC,SAAD,EAAuB;AACvB;AAAA;AAAA,wCAAWC,SAAX,GAAuB,KAAvB;AACA,eAAKC,aAAL,CAAmBF,SAAnB;AACH;;AAEDE,QAAAA,aAAa,CAACF,SAAD,EAAuB;AAChC,cAAIG,OAAO,GAAGH,SAAS,CAACI,OAAxB;AACA,cAAIC,QAAQ,GAAG;AAAA;AAAA,sCAAUC,QAAV,CAAmBC,eAAnB,CAAmCJ,OAAnC,CAAf;AACA,cAAIK,IAAI,GAAG;AAAA;AAAA,sCAAUC,cAAV,GAA2BT,SAAS,CAACU,GAArC,GAA2C,cAAtD;AACA,eAAKC,QAAL,CAAcC,MAAd,GAAuBZ,SAAS,CAACa,IAAjC;AACA,eAAKC,KAAL,CAAWF,MAAX,GAAqB,MAAKZ,SAAS,CAACe,KAAM,EAA1C;AACA,eAAKC,WAAL,CAAiBJ,MAAjB,GAA0BZ,SAAS,CAACiB,WAApC;AACA;AAAA;AAAA,8CAAcC,aAAd,CAA4BV,IAA5B,EAAkCW,IAAlC,CAAwCC,IAAD,IAAuB;AAC1D,iBAAKC,IAAL,CAAUC,WAAV,GAAwBF,IAAxB;AACH,WAFD;AAGH;;AAEDG,QAAAA,UAAU,GAAG;AACT;AAAA;AAAA,wCAAWtB,SAAX,GAAuB,IAAvB;AACA;AAAA;AAAA,4CAAaK,QAAb,CAAsBkB,IAAtB,CAA2B;AAAA;AAAA,sCAAUC,OAAV,CAAkB3B,iBAA7C;AACH;;AA7B4C,O;;;;;iBAE9B,I;;;;;;;iBAEG,I;;;;;;;iBAEH,I;;;;;;;iBAEM,I","sourcesContent":["import { _decorator, Component, Node, Sprite, Label, SpriteFrame } from 'cc';\r\nimport { Constants } from '../../Constants';\r\nimport { PopupManager } from '../../Frame/PopupManager';\r\nimport { ResourcesUtil } from '../../Frame/ResourcesUtil';\r\nimport { SkillData } from '../../Game/Data/SkillData';\r\nimport { GameDefine } from '../../GameDefine';\r\nimport { WeaponCfg } from '../../Model/WeaponModel';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('WeaponDetailPopup')\r\nexport class WeaponDetailPopup extends Component {\r\n    @property(Sprite)\r\n    icon: Sprite = null;\r\n    @property(Label)\r\n    iconName: Label = null;\r\n    @property(Label)\r\n    level: Label = null;\r\n    @property(Label)\r\n    description: Label = null;  // Add this property\r\n    show(weaponCfg: WeaponCfg) {\r\n        GameDefine.gameTouch = false;\r\n        this.setWeaponInfo(weaponCfg);\r\n    }\r\n\r\n    setWeaponInfo(weaponCfg: WeaponCfg) {\r\n        let skillId = weaponCfg.SkillId;\r\n        let skillCfg = SkillData.instance.getSkillCfgById(skillId);\r\n        let path = Constants.weaponIconPath + weaponCfg.Res + '/spriteFrame';\r\n        this.iconName.string = weaponCfg.Name;\r\n        this.level.string = `Lv.${weaponCfg.Level}`;\r\n        this.description.string = weaponCfg.Description;\r\n        ResourcesUtil.geSpriteFrame(path).then((data: SpriteFrame) => {\r\n            this.icon.spriteFrame = data;\r\n        })\r\n    }\r\n\r\n    onCloseBtn() {\r\n        GameDefine.gameTouch = true;\r\n        PopupManager.instance.hide(Constants.PopupUI.WeaponDetailPopup);\r\n    }\r\n}\r\n\r\n\r\n"]}