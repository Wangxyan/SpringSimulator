{"version":3,"sources":["file:///D:/CODE/cocos_workspace/%E8%83%8C%E5%8C%85%E8%8B%B1%E9%9B%84/assets/Scripts/Game/Battle/Shadow.ts"],"names":["_decorator","BaseComponent","PoolManager","GameDefine","ccclass","property","Shadow","_com","init","com","scale","monsterCfg","shadeScale","node","setScale","setMonsterShadownPos","curPos","getPosition","setPosition","x","y","shadeOffsetY","clear","instance","putNode","childUpdate","dt","gameStart"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AAEFC,MAAAA,a;;AACEC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;wBAGjBM,M,WADZF,OAAO,CAAC,QAAD,C,gBAAR,MACaE,MADb;AAAA;AAAA,0CAC0C;AAAA;AAAA;AAAA,eAC9BC,IAD8B,GACV,IADU;AAAA;;AAEtCC,QAAAA,IAAI,CAACC,GAAD,EAAmB;AACnB,eAAKF,IAAL,GAAYE,GAAZ;AACA,cAAIC,KAAK,GAAGD,GAAG,CAACE,UAAJ,CAAeC,UAA3B;AACA,eAAKC,IAAL,CAAUC,QAAV,CAAmBJ,KAAnB,EAA0BA,KAA1B,EAAiCA,KAAjC;AACH;;AAEDK,QAAAA,oBAAoB,GAAG;AACnB,cAAIC,MAAM,GAAG,KAAKT,IAAL,CAAUM,IAAV,CAAeI,WAAf,EAAb;;AACA,eAAKJ,IAAL,CAAUK,WAAV,CAAsBF,MAAM,CAACG,CAA7B,EAAgCH,MAAM,CAACI,CAAP,GAAW,KAAKb,IAAL,CAAUI,UAAV,CAAqBU,YAAhE,EAA8E,CAA9E;AACH;;AAEDC,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,0CAAYC,QAAZ,CAAqBC,OAArB,CAA6B,KAAKX,IAAlC;AACH;;AAESY,QAAAA,WAAW,CAACC,EAAD,EAAmB;AACpC,cAAI;AAAA;AAAA,wCAAWC,SAAf,EAA0B;AACtB,gBAAI,KAAKpB,IAAT,EAAe;AACX,mBAAKQ,oBAAL;AACH;AACJ;AACJ;;AAvBqC,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { MonsterBase } from '../Monster/MonsterBase';\r\nimport BaseComponent from '../../Frame/BaseComponent';\r\nimport { PoolManager } from '../../Frame/PoolManager';\r\nimport { GameDefine } from '../../GameDefine';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Shadow')\r\nexport class Shadow extends BaseComponent {\r\n    private _com: MonsterBase = null;\r\n    init(com: MonsterBase) {\r\n        this._com = com;\r\n        let scale = com.monsterCfg.shadeScale;\r\n        this.node.setScale(scale, scale, scale);\r\n    }\r\n\r\n    setMonsterShadownPos() {\r\n        let curPos = this._com.node.getPosition();\r\n        this.node.setPosition(curPos.x, curPos.y + this._com.monsterCfg.shadeOffsetY, 0);\r\n    }\r\n\r\n    clear() {\r\n        PoolManager.instance.putNode(this.node);\r\n    }\r\n\r\n    protected childUpdate(dt: number): void {\r\n        if (GameDefine.gameStart) {\r\n            if (this._com) {\r\n                this.setMonsterShadownPos();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}